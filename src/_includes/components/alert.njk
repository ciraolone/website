{#
  Componente Alert Riutilizzabile (Stile Neobrutalista)

  Parametri:
  - text: testo del messaggio (richiesto)
  - variant: tipo di alert (default: "info")
    - "info": sfondo blu
    - "success": sfondo verde
    - "warning": sfondo giallo
    - "error": sfondo rosso
  - className: classi CSS aggiuntive (opzionale)

  Uso come macro:
  {% from "components/alert.njk" import alert %}
  {{ alert("Messaggio importante!", variant="info") }}
  {{ alert("Operazione completata!", variant="success") }}
  {{ alert("Attenzione: le iscrizioni chiudono il 4 gennaio!", variant="warning") }}
  {{ alert("Errore durante l'operazione.", variant="error") }}
#}

{% macro alert(text, variant="info", className="") %}
{# Definizione colori per variante #}
{% set variantClasses = {
  "info": "bg-blue-100 text-blue-900 border-black",
  "success": "bg-green-100 text-green-900 border-black",
  "warning": "bg-primary text-black border-black",
  "error": "bg-red-100 text-red-900 border-black"
} %}

{# Icone SVG per variante #}
{% set icons = {
  "info": '<path fill-rule="evenodd" d="M15 8A7 7 0 1 1 1 8a7 7 0 0 1 14 0ZM9 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM6.75 8a.75.75 0 0 0 0 1.5h.75v1.75a.75.75 0 0 0 1.5 0v-2.5A.75.75 0 0 0 8.25 8h-1.5Z" clip-rule="evenodd"></path>',
  "success": '<path fill-rule="evenodd" d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14Zm3.844-8.791a.75.75 0 0 0-1.188-.918l-3.7 4.79-1.649-1.833a.75.75 0 1 0-1.114 1.004l2.25 2.5a.75.75 0 0 0 1.15-.043l4.25-5.5Z" clip-rule="evenodd"></path>',
  "warning": '<path fill-rule="evenodd" d="M6.701 2.25c.577-1 2.02-1 2.598 0l5.196 9a1.5 1.5 0 0 1-1.299 2.25H2.804a1.5 1.5 0 0 1-1.3-2.25l5.197-9ZM8 4a.75.75 0 0 1 .75.75v3a.75.75 0 1 1-1.5 0v-3A.75.75 0 0 1 8 4Zm0 8a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z" clip-rule="evenodd"></path>',
  "error": '<path fill-rule="evenodd" d="M6.701 2.25c.577-1 2.02-1 2.598 0l5.196 9a1.5 1.5 0 0 1-1.299 2.25H2.804a1.5 1.5 0 0 1-1.3-2.25l5.197-9ZM8 4a.75.75 0 0 1 .75.75v3a.75.75 0 1 1-1.5 0v-3A.75.75 0 0 1 8 4Zm0 8a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z" clip-rule="evenodd"></path>'
} %}

<div role="alert" class="border-2 p-4 shadow-[4px_4px_0_0] rounded-default {{ variantClasses[variant] }} {{ className }}">
  <div class="flex items-start gap-3">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="mt-0.5 size-4 flex-shrink-0">
      {{ icons[variant] | safe }}
    </svg>
    <strong class="block flex-1 leading-tight font-semibold">{{ text }}</strong>
  </div>
</div>
{% endmacro %}
